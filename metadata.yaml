# yaml-language-server: $schema=https://raw.githubusercontent.com/sgnl-actions/schemas/main/metadata.schema.json
name: generic-webhook
description: Generic webhook action for making custom HTTP requests

# Input parameters for web form generation
inputs:
  method:
    type: text
    description: HTTP method (GET, POST, PUT, DELETE, PATCH, etc.)
    required: true
    validation:
      enum: ["GET", "POST", "PUT", "DELETE", "PATCH", "HEAD", "OPTIONS"]

  address:
    type: text
    description: Full URL to send the request to (overrides integration address)
    required: false
    validation:
      max: 2000

  addressSuffix:
    type: text
    description: Path suffix to append to the base address
    required: false
    validation:
      max: 1000

  requestBody:
    type: text
    description: JSON request body to send
    required: false
    validation:
      max: 10000

  requestHeaders:
    type: text
    description: JSON object of custom headers to include
    required: false
    validation:
      max: 5000

  acceptedStatusCodes:
    type: array
    description: Additional status codes to treat as success (e.g., [404])
    required: false
    item_type: number
    validation:
      max: 10

# Expected output structure
outputs:
  statusCode:
    type: number
    description: HTTP status code from the response

  body:
    type: text
    description: Response body content

  success:
    type: boolean
    description: Whether the request was successful

  executedAt:
    type: datetime
    description: When the request was executed (ISO 8601)